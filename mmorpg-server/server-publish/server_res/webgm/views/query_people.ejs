<%- include new_header %>

    <style type="text/css">
        #container {
            text-align : center;
            width : 500px;
            height : 500px;
            border : 1px solid blue;
            margin : 0 auto;
             
        }
        .skin {
            width : 100px;
            border : 1px solid gray;
            padding : 2px;
            visibility : hidden;
            position : absolute;
        }
        div.menuitems {
            margin : 1px 0;
            background-color : #c0c0c0;
            white-space: nowrap;
        }
        div.menuitems a {
            text-decoration : none;
        }
    </style>

    <script src="http://api.51ditu.com/js/ajax.js"></script>
    <script>     
    window.onload = function() {
        var container = document.getElementById('player_list');  
        var menu = document.getElementById('player_menu');
        
        /*显示菜单*/
        function showMenu() {
            var evt = window.event || arguments[0];
            
            /*获取当前鼠标右键按下后的位置，据此定义菜单显示的位置*/
            var rightedge = container.clientWidth-evt.clientX;
            var bottomedge = container.clientHeight-evt.clientY;
    
            /*如果从鼠标位置到容器右边的空间小于菜单的宽度，就定位菜单的左坐标（Left）为当前鼠标位置向左一个菜单宽度*/
            if (rightedge < menu.offsetWidth)               
                menu.style.left = container.scrollLeft + evt.clientX - menu.offsetWidth + "px";            
            else
            /*否则，就定位菜单的左坐标为当前鼠标位置*/
                menu.style.left = container.scrollLeft + evt.clientX + "px";
            
            /*如果从鼠标位置到容器下边的空间小于菜单的高度，就定位菜单的上坐标（Top）为当前鼠标位置向上一个菜单高度*/
            if (bottomedge < menu.offsetHeight)
                menu.style.top = container.scrollTop + evt.clientY - menu.offsetHeight + "px";
            else
            /*否则，就定位菜单的上坐标为当前鼠标位置*/
                menu.style.top = container.scrollTop + evt.clientY + "px";
                
            /*设置菜单可见*/
            menu.style.visibility = "visible";             
            LTEvent.addListener(menu,"contextmenu",LTEvent.cancelBubble);
            LTEvent.addListener(container,"click",hideMenu);  
        }
        /*隐藏菜单*/
        function hideMenu() {
            menu.style.visibility = 'hidden';
            LTEvent.addListener(container,"click",showMenu);  
        }                              
        LTEvent.addListener(container,"contextmenu",LTEvent.cancelBubble);
        //LTEvent.addListener(container,"contextmenu",showMenu);
        //LTEvent.addListener(document,"click",hideMenu);  
        LTEvent.addListener(container,"click",showMenu);  
    }
    </script>

    <body id="contentBody" onload="">
        <%- include main_side %>

        <div class="container-fluid">
        <h3 class="page-header" id="frame_title">玩家管理--玩家查询</h3>

        <!--查询玩家信息-->
        <div class="dash_board_row_item_left panel panel-default">
            <div class="panel-heading">
                查询
            </div>
            <div class="panel-body">
                <form method="post">
                    账号：  <input type="text" name="account_id"/>&nbsp;&nbsp;<input type="submit" value="查询"/>
                </form>
            </div>

            <% if(test) { %>
                <button type="button" onclick="test()">Test</button>
            <% } %>
        </div>
    
        <!--列表-->
         <div class="panel panel-default">
            <div class="panel-heading">
                玩家信息
            </div>
            <div class="panel-body">
                <div class="table-responsive">
                    <div class="panel-body">
                        <table cellspacing="0" rules="all" class="table table-striped table-bordered table-hover" rules="none" id="player_list" style="border-width:0px;width:99%;border-collapse:collapse;">
                            <tr class="thead" style="font-weight:bold;">
                                <td style="white-space:nowrap;">玩家ID</td>
                                <td style="white-space:nowrap;">账号</td>
                                <td style="white-space:nowrap;">昵称</td>
                                <td style="white-space:nowrap;">等级</td>
                                <td style="white-space:nowrap;">金币</td>
                                <td style="white-space:nowrap;">点劵</td>
                                <td style="white-space:nowrap;">注册时间</td>
                            </tr>
                            <% if (playerInfoes != null) { %>
                                <% playerInfoes.forEach(function(info, index) { %>
                                    <tr style='cursor:hand;'>
                                        <td><%= info.id %></td>
                                        <td><%= info.accid %></td>
                                        <td><%= info.name %></td>
                                        <td><%= info.level %></td>
                                        <td><%= info.gold %></td>
                                        <td><%= info.point %></td>
                                        <td><%= info.reg_time %></td>                                 
                                    </tr>
                                <% }) %>
                            <% } %>
                        </table>

                        <div id="player_menu" class="skin">
                            <div class="menuitems">
                                <a>封号</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

<script type="text/javascript">
function test()
{
    console.log('test');
}
</script>

<%- include new_footer %>